/*! For license information please see 43a5156a.c1cf4186.js.LICENSE.txt */
"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[2433],{1993:(e,s,r)=>{r.r(s),r.d(s,{assets:()=>c,contentTitle:()=>i,default:()=>h,frontMatter:()=>n,metadata:()=>a,toc:()=>d});var t=r(5893),o=r(1151);const n={sidebar_position:4,title:"Security Measures"},i=void 0,a={unversionedId:"intro/security",id:"intro/security",title:"Security Measures",description:"This article describes the security measures that implemented in the system. Beware, this is an advanced topic.",source:"@site/docs/intro/security.mdx",sourceDirName:"intro",slug:"/intro/security",permalink:"/docs/intro/security",draft:!1,unlisted:!1,editUrl:"https://github.com/domcloud/domcloud-co/tree/master/docs/intro/security.mdx",tags:[],version:"current",sidebarPosition:4,frontMatter:{sidebar_position:4,title:"Security Measures"},sidebar:"tutorialSidebar",previous:{title:"Our Guarantees",permalink:"/docs/intro/guarantees"},next:{title:"Deployments",permalink:"/docs/deployment/"}},c={},d=[{value:"No Sudo",id:"no-sudo",level:2},{value:"No Background Services",id:"no-background-services",level:2},{value:"Listing every other users",id:"listing-every-other-users",level:2},{value:"SSH/Server Password",id:"sshserver-password",level:2}];function l(e){const s=Object.assign({p:"p",h2:"h2",a:"a",code:"code",pre:"pre",strong:"strong"},(0,o.ah)(),e.components);return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(s.p,{children:"This article describes the security measures that implemented in the system. Beware, this is an advanced topic."}),"\n",(0,t.jsx)(s.p,{children:"DOM Cloud is essentially a Linux VPS server that's shared for all users. While this maybe seems like a bad idea, when it done correctly it will work fine for most users."}),"\n",(0,t.jsx)(s.p,{children:"Each servers currently installed with 1 vCPU and 2 GB RAM, which should be enough for most of web development task and average production server. This hardware spec may be increased as the time goes with available budget."}),"\n",(0,t.jsx)(s.h2,{id:"no-sudo",children:"No Sudo"}),"\n",(0,t.jsxs)(s.p,{children:["When you create a website in DOM Cloud, you will be given a ",(0,t.jsx)(s.a,{href:"https://www.cloudflare.com/learning/access-management/what-is-ssh/",children:"SSH access"}),", which then you can used it to install additional software or libraries in order to make your app working correctly."]}),"\n",(0,t.jsxs)(s.p,{children:["The only restriction is this: You can't elevate access with ",(0,t.jsx)(s.code,{children:"sudo"}),". There are many tutorials out there that requires ",(0,t.jsx)(s.code,{children:"sudo"}),", these will not work here as that will compromise the entire system, including other users data."]}),"\n",(0,t.jsxs)(s.p,{children:["Of course, there are some actions that requires sudo access, such as configuring NginX or DNS records. This is why ",(0,t.jsx)(s.a,{href:"../features/deploy",children:"the deployment system"})," exists, it facilitates some ",(0,t.jsx)(s.code,{children:"sudo"})," actions in a safer way."]}),"\n",(0,t.jsxs)(s.p,{children:["The deployment system also has some shortcut to install language compilers, such as Node.JS, Python, Rust, Go, and many more. Refer to ",(0,t.jsxs)(s.a,{href:"../features/deploy#features",children:["its ",(0,t.jsx)(s.code,{children:"features"})," section"]}),". These will be installed to the user's home dir (usually ",(0,t.jsx)(s.code,{children:"~/.local/bin"}),") so it's isolated with system-wide software."]}),"\n",(0,t.jsx)(s.h2,{id:"no-background-services",children:"No Background Services"}),"\n",(0,t.jsx)(s.p,{children:"CPU and RAM are limited resources. To make room for everyone, server processes need to be shut down when it's no longer in use. In another word, there can't be any process run 24/7, it will be terminated when there's no traffic for more than 10 minutes."}),"\n",(0,t.jsx)(s.p,{children:"This is enforced by NginX proxies (PHP-FPM and Passenger) plus an additional cron job that does this:"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-bash",children:'# Send SIGKILL (immediate kill) for all processes longer than 3 hours and it\'s not daemon processes.\nkill -9 $(ps --no-headers -eo pid,user,etimes | awk \'{if ($3 > 10800 && $2 != "root" && $2 != "mysql" && $2 != "postgres".......) { print $1}}\')\n'})}),"\n",(0,t.jsx)(s.p,{children:"If your web apps requires some kind of background processes that must stays on for 24/7, then you might have designed its system architecture wrong. The most noticeable impact from this restriction is Chatbot. All chatbot must work by webhook, not by actively polling social media APIs."}),"\n",(0,t.jsx)(s.p,{children:"This is also the reason why there's only three database system supported: SQLite, MariaDB and PostgreSQL. The last two is managed by system daemon, so it's always available 24/7."}),"\n",(0,t.jsx)(s.h2,{id:"listing-every-other-users",children:"Listing every other users"}),"\n",(0,t.jsx)(s.p,{children:(0,t.jsx)(s.strong,{children:"Due to how linux works, we can't hide usernames and domains for all users in the server."})}),"\n",(0,t.jsxs)(s.p,{children:["Anyone with SSH access can do ",(0,t.jsx)(s.code,{children:"ls /home"})," or ",(0,t.jsx)(s.code,{children:"cat /etc/passwd"})," and determine what's domain other users has. We encourage everyone to not assume all URLs are private, and taken security measurements properly as if anyone public can open the website."]}),"\n",(0,t.jsx)(s.h2,{id:"sshserver-password",children:"SSH/Server Password"}),"\n",(0,t.jsxs)(s.p,{children:[(0,t.jsx)(s.strong,{children:"Server passwords must be treaten as personal password"}),", exposure on public can lead to anyone see and override your website internal data!"]}),"\n",(0,t.jsx)(s.p,{children:"Avoid managing your website in public devices. If you have to do that, make sure you do it in private browsing/incognito mode."})]})}const h=function(e={}){const{wrapper:s}=Object.assign({},(0,o.ah)(),e.components);return s?(0,t.jsx)(s,Object.assign({},e,{children:(0,t.jsx)(l,e)})):l(e)}},5251:(e,s,r)=>{r(7418);var t=r(7294),o=60103;if(s.Fragment=60107,"function"==typeof Symbol&&Symbol.for){var n=Symbol.for;o=n("react.element"),s.Fragment=n("react.fragment")}var i=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a=Object.prototype.hasOwnProperty,c={key:!0,ref:!0,__self:!0,__source:!0};function d(e,s,r){var t,n={},d=null,l=null;for(t in void 0!==r&&(d=""+r),void 0!==s.key&&(d=""+s.key),void 0!==s.ref&&(l=s.ref),s)a.call(s,t)&&!c.hasOwnProperty(t)&&(n[t]=s[t]);if(e&&e.defaultProps)for(t in s=e.defaultProps)void 0===n[t]&&(n[t]=s[t]);return{$$typeof:o,type:e,key:d,ref:l,props:n,_owner:i.current}}s.jsx=d,s.jsxs=d},5893:(e,s,r)=>{e.exports=r(5251)},1151:(e,s,r)=>{r.d(s,{Zo:()=>a,ah:()=>n});var t=r(7294);const o=t.createContext({});function n(e){const s=t.useContext(o);return t.useMemo((()=>"function"==typeof e?e(s):{...s,...e}),[s,e])}const i={};function a({components:e,children:s,disableParentContext:r}){let a;return a=r?"function"==typeof e?e({}):e||i:n(e),t.createElement(o.Provider,{value:a},s)}}}]);