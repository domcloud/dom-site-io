/*! For license information please see 4dd6c91c.7a443e49.js.LICENSE.txt */
"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[2631],{1062:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>d,contentTitle:()=>r,default:()=>h,frontMatter:()=>o,metadata:()=>i,toc:()=>c});var s=a(5893),n=a(1151);const o={title:"Database Providers"},r=void 0,i={unversionedId:"features/database",id:"features/database",title:"Database Providers",description:"Database is an integral part of any application. DOM Cloud provides a free, opt-in MariaDB and PostgreSQL database instance for every website in every tier.",source:"@site/docs/features/database.mdx",sourceDirName:"features",slug:"/features/database",permalink:"/docs/features/database",draft:!1,unlisted:!1,editUrl:"https://github.com/domcloud/domcloud-co/tree/master/docs/features/database.mdx",tags:[],version:"current",frontMatter:{title:"Database Providers"},sidebar:"tutorialSidebar",previous:{title:"NGINX and App Daemon",permalink:"/docs/features/nginx"},next:{title:"Domain Name Server",permalink:"/docs/features/dns"}},d={},c=[{value:"Using the Database",id:"using-the-database",level:3},{value:"Remote Access",id:"remote-access",level:3},{value:"Timestamp",id:"timestamp",level:3}];function l(e){const t=Object.assign({p:"p",code:"code",admonition:"admonition",strong:"strong",a:"a",em:"em",h3:"h3",ul:"ul",li:"li"},(0,n.ah)(),e.components);return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(t.p,{children:["Database is an integral part of any application. DOM Cloud provides a free, opt-in ",(0,s.jsx)(t.code,{children:"MariaDB"})," and ",(0,s.jsx)(t.code,{children:"PostgreSQL"})," database instance for every website in every tier."]}),"\n",(0,s.jsx)(t.admonition,{type:"tip",children:(0,s.jsxs)(t.p,{children:["Database is an ",(0,s.jsx)(t.strong,{children:"opt-in"}),", disabled by default. You have to enable it via the deployment script. See the section for enabling ",(0,s.jsx)(t.a,{href:"/docs/features/deploy#mysql",children:"MariaDB"})," or ",(0,s.jsx)(t.a,{href:"/docs/features/deploy#postgresql",children:"PostgreSQL"}),"."]})}),"\n",(0,s.jsxs)(t.p,{children:["To view and edit the database using online tools, use ",(0,s.jsx)(t.em,{children:"PhpMyAdmin"})," or ",(0,s.jsx)(t.em,{children:"PhpPgAdmin"}),". Both available from manage tab."]}),"\n",(0,s.jsx)(t.admonition,{type:"info",children:(0,s.jsxs)(t.p,{children:["You can't create or drop database from PhpMyAdmin, PhpPgAdmin or any external database client. You have to do that from Webmin UI or ",(0,s.jsx)(t.a,{href:"./deploy#features",children:"deployment script"}),"."]})}),"\n",(0,s.jsx)(t.h3,{id:"using-the-database",children:"Using the Database"}),"\n",(0,s.jsx)(t.p,{children:"After activating the database, you can provide the database credentials to your app:"}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsxs)(t.li,{children:["Hostname: ",(0,s.jsx)(t.code,{children:"localhost"})," (because the database always live in the same server)"]}),"\n",(0,s.jsx)(t.li,{children:"Username: Same username with server (see from manage tab)"}),"\n",(0,s.jsx)(t.li,{children:"Password: Same password with server (see from manage tab)"}),"\n",(0,s.jsxs)(t.li,{children:["Database name: Usually username + ",(0,s.jsx)(t.code,{children:"_db"})," unless you've create another DB"]}),"\n"]}),"\n",(0,s.jsx)(t.h3,{id:"remote-access",children:"Remote Access"}),"\n",(0,s.jsx)(t.p,{children:"Remote Access is used to manage databases using your local software -- such as DBeaver, HeidiSQL or TablePlus."}),"\n",(0,s.jsx)(t.p,{children:"PostgreSQL permits remote access by default."}),"\n",(0,s.jsxs)(t.p,{children:["MySQL is more grained and doesn't allow remote access by default. You need to change it by go to the Webmin -> Databases -> Remote access then add ",(0,s.jsx)(t.code,{children:"%.%.%.%"})," and ",(0,s.jsx)(t.code,{children:"%:%:%"})," (next line above ",(0,s.jsx)(t.code,{children:"localhost"}),") to allowed hosts list."]}),"\n",(0,s.jsx)(t.admonition,{type:"info",children:(0,s.jsxs)(t.p,{children:["When connecting with Remote Access, the hostname is your website domain or the server's IP address, not ",(0,s.jsx)(t.code,{children:"localhost"}),"."]})}),"\n",(0,s.jsx)(t.h3,{id:"timestamp",children:"Timestamp"}),"\n",(0,s.jsxs)(t.p,{children:["The whole server always sets the clock in ",(0,s.jsx)(t.code,{children:"UTC"}),"."]}),"\n",(0,s.jsx)(t.p,{children:"A good idea to handle timezone is done by client processing (Javascript), both after getting the data from database/AJAX and before sending data/Posts to server."}),"\n",(0,s.jsxs)(t.p,{children:["If you don't care about timezone and you think it's safe to assume that your website is only accessed in one timezone, you can set the timezone in the backend using ",(0,s.jsx)(t.a,{href:"https://www.php.net/manual/en/function.date-default-timezone-set.php",children:"date_default_timezone_set"})," for PHP or ",(0,s.jsxs)(t.a,{href:"https://medium.com/developer-rants/time-zones-in-node-js-fc5a5b51906a",children:[(0,s.jsx)(t.code,{children:"TZ"})," env"]})," for non-PHP (set it to passenger's ",(0,s.jsx)(t.code,{children:"env_var_list"}),")."]})]})}const h=function(e={}){const{wrapper:t}=Object.assign({},(0,n.ah)(),e.components);return t?(0,s.jsx)(t,Object.assign({},e,{children:(0,s.jsx)(l,e)})):l(e)}},5251:(e,t,a)=>{a(7418);var s=a(7294),n=60103;if(t.Fragment=60107,"function"==typeof Symbol&&Symbol.for){var o=Symbol.for;n=o("react.element"),t.Fragment=o("react.fragment")}var r=s.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,i=Object.prototype.hasOwnProperty,d={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,a){var s,o={},c=null,l=null;for(s in void 0!==a&&(c=""+a),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(l=t.ref),t)i.call(t,s)&&!d.hasOwnProperty(s)&&(o[s]=t[s]);if(e&&e.defaultProps)for(s in t=e.defaultProps)void 0===o[s]&&(o[s]=t[s]);return{$$typeof:n,type:e,key:c,ref:l,props:o,_owner:r.current}}t.jsx=c,t.jsxs=c},5893:(e,t,a)=>{e.exports=a(5251)},1151:(e,t,a)=>{a.d(t,{Zo:()=>i,ah:()=>o});var s=a(7294);const n=s.createContext({});function o(e){const t=s.useContext(n);return s.useMemo((()=>"function"==typeof e?e(t):{...t,...e}),[t,e])}const r={};function i({components:e,children:t,disableParentContext:a}){let i;return i=a?"function"==typeof e?e({}):e||r:o(e),s.createElement(n.Provider,{value:i},t)}}}]);